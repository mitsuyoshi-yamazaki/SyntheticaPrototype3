# コミットノート - 3931b9d5c90d11d988ea2efed5cf088fb3cdc973

## ユーザープロンプト

```
TODO.md の 移動システムの実装詳細 の項について、v3系には移動ユニットは存在しないので、世界の一部に、「その領域に存在するゲームオブジェクトは等しく一方向の力を受ける」という領域を設けることとする

ゲームオブジェクトはそれぞれ様々な質量を持つので、この領域を設けることである程度の方向があり、ある程度はランダムな移動を実現する
```

続いて：

```
game-world-requirement.md に directional-force-field-specification.md への参照を記載せよ
```

続いて：

```
ルートディレクトリのCLAUDE.mdの ユーザー指示を受けてファイルを変更した場合 を実行せよ
```

## 実施内容

v3系の移動システムとして、移動ユニット（MOVER）の代わりに方向性力場（Directional Force Field）の実装仕様を定義しました。

### 1. directional-force-field-specification.mdの作成

以下の仕様を定義：

- **基本コンセプト**
  - 特定領域内のゲームオブジェクトに一方向の力を与える環境フィールド
  - オブジェクトの質量差により異なる加速度が生じ、ランダム性のある移動を実現

- **3種類の力場タイプ**
  - LINEAR: 一定方向の力（風のような効果）
  - RADIAL: 放射状の力（噴出・吸引効果）
  - SPIRAL: 渦巻き状の力（竜巻効果）

- **実装詳細**
  - 距離による力の減衰（中心100%、端50%）
  - 複数力場の重ね合わせ
  - 空間分割による最適化

- **ゲームプレイへの影響**
  - エージェントが力場を利用した移動戦略を構築可能
  - 質量調整による移動制御
  - 資源収集ルートの最適化

### 2. game-world-requirement.mdの更新

以下の2箇所にdirectional-force-field-specification.mdへの参照を追加：

- 物理演算フェーズの加速度・速度計算（116行目）
- ユニット仕様にv3では移動ユニットが存在しないことを明記（212行目付近）

### 3. TODO.mdの更新

- 「移動システムの実装詳細」タスクを完了に変更
- 詳細説明を更新（MOVERユニットではなく方向性力場による実装であることを明記）
