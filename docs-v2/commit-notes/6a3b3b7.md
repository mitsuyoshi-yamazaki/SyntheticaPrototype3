# コミット 6a3b3b7 の指示内容

## ユーザーからの指示

すべての命令の正常系のテストでは、命令の実行前後ですべてのレジスタの内容を検証するようにせよ

## 実施内容

VM命令テストを改善し、各正常系テストで実行前後のすべてのレジスタ（A, B, C, D）の値を検証するようにしました。

### 修正内容

1. **実行前の検証追加**
   - すべての正常系テストで、命令実行前に4つのレジスタすべての値を確認
   - 初期値を明示的に設定し、期待値を検証

2. **実行後の検証強化**
   - 命令が変更すべきレジスタのみが正しく変更されたことを確認
   - 他のレジスタが変更されずに保持されていることを検証

### 修正した命令カテゴリ

- データ移動命令（MOV_AB, MOV_AD, MOV_SP, SET_SP）
- 算術演算命令（INC_A, DEC_A, ADD_AB, SUB_AB, XOR_AB, CMP_AB）
- スタック操作（PUSH_A, POP_A）

### 利点

- テストの精度向上
- 副作用の検出が可能
- 命令の影響範囲を厳密に検証

注：メモリアクセス命令や制御命令など、残りの命令についても同様のパターンで修正することが推奨されます。