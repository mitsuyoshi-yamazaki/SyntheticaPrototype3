# コミットノート - 140f655fb4c86b6e91f84b6b35a992f750d67b89

## ユーザープロンプト

```
今まで描画系はp5.jsを利用する想定であったが、他に適した描画系はあるか
```

## 実施内容

描画ライブラリをp5.jsからPixiJSに変更しました。

### 1. 描画ライブラリの比較検討

以下のライブラリを比較検討：

- **PixiJS**: WebGLベース、大量オブジェクト対応、60fps達成可能
- **Canvas API**: ネイティブ、完全制御可能、実装工数大
- **Konva.js**: 高レベルAPI、大量オブジェクトで性能問題
- **Three.js**: 3Dエンジン、2D用途にはオーバースペック
- **p5.js**: 初心者向け、10,000オブジェクトで30fps程度

### 2. PixiJSを選定

理由：

- パフォーマンス：10,000オブジェクトでも60fps維持可能
- バッチレンダリング、自動カリング等の最適化機能
- TypeScript完全対応
- アクティブな開発、大規模ゲームでの実績

### 3. 実装変更

#### 依存関係の変更

- p5.js、@types/p5を削除
- pixi.js v8.11.0を追加
- pixi-viewportはPixi v6用のため使用せず、カスタムViewport実装予定

#### コンポーネントの変更

- GameCanvasPixi.tsxを新規作成
- PixiJS Applicationを使用した実装
- requestAnimationFrameベースのゲームループ

#### ファイルの更新

- architecture.md: PixiJS統合について更新
- page.tsx: GameCanvasPixiを使用するよう変更

### 4. 今後の作業

- GameWorldクラスにPixiJS用レンダリングメソッドを追加
- カスタムViewport実装（パン・ズーム機能）
- スプライトバッチングの実装
- パフォーマンステストの実施
