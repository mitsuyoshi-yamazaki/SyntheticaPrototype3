# 275ac0e のコミットノート

## ユーザープロンプト

docs/spec-v3/synthetica-script.md に仕様を記載した命令セットの各命令のテストを src/engine/vm-instructions.test.ts に記載している（このファイルは行数が多いため、読み込む際はルートレベルにあるそれぞれの命令の describe() （ `describe("0xc8 CMOV_NC"` など）で検索して読み込むようにせよ）に記載している。

命令セットのテストは src/engine/vm-memory.test.ts にも記述があるので、vm-instructions.test.ts へ統合したい
vm-instructions.test.ts に記載のない条件のテストケースがあれば、 vm-instructions.test.ts へ追加せよ。また、追加する際は vm-instructions.test.ts 冒頭のコメント（ `/*〜*/` ）に記載のテスト実装方法に従って書き直せ

## 実施内容

1. vm-memory.test.tsとvm-instructions.test.tsの内容を比較分析
2. vm-instructions.test.tsに追加すべきテストケースを特定
3. 以下のテストケースをvm-instructions.test.tsに追加：
   - 負のオフセットテスト（STORE_A, LOAD_IND, STORE_IND, LOAD_A_W, STORE_A_W）
   - レジスタ選択バリエーション（LOAD_REG, STORE_REGで全レジスタをテスト）
   - メモリ境界条件（LOAD_ABS_W, STORE_ABS_Wでメモリ境界でのワード操作）
   - 実用パターン例（配列アクセスパターンをLOAD_INDに追加）
4. vm-memory.test.tsから統合済みテストを削除（コメントのみ残す）