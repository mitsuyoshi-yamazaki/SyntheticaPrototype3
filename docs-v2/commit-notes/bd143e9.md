# コミットノート: bd143e9

## ユーザー指示

POP_A 命令に加えた修正をもとに、 POP_B, POP_C, POP_D のテストケースでInstructionExecutor.step()を1度しか呼び出さないように修正せよ
質問があれば聞け

## 実施内容

POP_B, POP_C, POP_Dのテストケースを、POP_Aと同様の方式で修正：

1. 修正内容
   - PUSH命令の実行を削除（InstructionExecutor.step()の呼び出しを削除）
   - 代わりに直接VMの状態を設定：
     - vm.sp = 0xfd（スタックポインタを設定）
     - vm.writeMemory8()でスタックメモリに値を直接書き込み
   - POP命令の開始位置をpc=0に変更（以前はPUSH後のpc=1から開始）

2. 各テストの変更点
   - POP_B: PUSH_B実行を削除、メモリ0xfd/0xfeに0x5678を直接設定
   - POP_C: PUSH_C実行を削除、メモリ0xfd/0xfeに0x5678を直接設定
   - POP_D: PUSH_D実行を削除、メモリ0xfd/0xfeに0x5678を直接設定

3. 確認事項
   - テスト実行前後のメモリ内容確認を追加
   - POP後もメモリ内容がクリアされないことを確認

これにより、各POP命令テストでInstructionExecutor.step()の呼び出しが1回のみとなり、
エラー発生時の原因特定が容易になった。