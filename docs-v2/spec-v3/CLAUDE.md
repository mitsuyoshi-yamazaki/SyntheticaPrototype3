# CLAUDE.md - spec-v3ディレクトリ管理ガイド

このファイルは、`spec-v3/`ディレクトリ内のファイル管理ルールを定義します。

## ディレクトリ構造

```
spec-v3/
├── done/               # 役目を終えたファイルの保管場所
├── agent-code/         # エージェントコード実装
│   ├── v3.0.0以前/    # 旧バージョンのコード
│   └── v3.0.0/        # 現行バージョンのコード
└── （アクティブな仕様ファイル）
```

## ファイル移動ルール

### `done/`ディレクトリへの移動基準

以下の条件を満たすファイルは`done/`ディレクトリへ移動する：

1. **完了したタスクファイル**
   - タスクがすべて完了し、今後参照する必要がないもの
   - 例: `energy-scale-change-tasks.md`（全タスク完了後）

2. **古いバージョンの分析レポート**
   - 新しい分析で置き換えられたレポート
   - 仕様変更により内容が陳腐化したもの

3. **一時的な作業ファイル**
   - 特定の作業のために作成され、その作業が完了したもの
   - 移行作業用のチェックリストなど

### アクティブなファイルの基準

以下のファイルは`spec-v3/`直下に保持する：

1. **現行仕様書**
   - `game-world-requirement.md`
   - `synthetica-script.md`
   - `energy-definition.md`
   - `energy-consumption.md`
   - その他の現行仕様定義ファイル

2. **バージョン管理ファイル**
   - `VERSION.md`

3. **現在進行中のタスク・分析**
   - アクティブに参照・更新されているファイル

4. **検証・バランス調整ファイル**
   - `energy-balance-verification.md`など、継続的に参照される分析結果

## 移動時の手順

1. 移動対象ファイルを特定
2. `git mv`コマンドを使用して移動
3. 移動理由を含むコミットメッセージで記録
4. 必要に応じて関連ファイルのリンクを更新

## 注意事項

- `done/`ディレクトリ内のファイルも履歴として保持される
- 将来的に参照が必要になる可能性があるファイルは慎重に判断
- 移動後もgit履歴から内容を確認可能
