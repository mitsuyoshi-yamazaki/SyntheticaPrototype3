# コミット 7d63227b2e7a43108578e42c5f9eb7ae5e4a0cd4

## ユーザープロンプト

```
Agentのconstructor引数が変更された。AgentActionResolver.test.tsでfailしているテストを修正せよ
```

## 実施内容

Agentクラスのコンストラクタ変更に伴い、`AgentActionResolver.test.ts` のテストコードを修正しました。

### 主な変更

1. **AgentActionResolver.test.tsの修正**（src/game/agent/AgentActionResolver.test.ts:18-36）
   - Agentの新しいコンストラクタシグネチャに対応
   - `weight`プロパティがgetterに変更され、`weight = capacity + energyAmount`で計算されるようになった
   - `createAgent`関数を修正し、期待する`weight`になるよう`capacity`を逆算
   - `capacity = expectedWeight - energyAmount`の計算を追加

2. **jest.setup.jsの修正**（jest.setup.js:3-8）
   - PIXI.jsのモック化を追加
   - Agent.tsがPIXI.jsをimportしているため、テスト実行時にearcutのESMエラーが発生
   - Graphics, Text, ApplicationをモックしてESMエラーを回避

### テスト結果

全6テストがパス：
- エネルギーが十分な場合のテスト
- エネルギーが不足する場合のテスト
- 必要エネルギーと保有エネルギーが等しい場合のテスト
- ゼロベクトル入力時のテスト
- エージェントのエネルギーがゼロの場合のテスト
- 異なる重さのエージェントでの挙動テスト
